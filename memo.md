# バグ

- フォルダー削除ボタンの活性/非活性が正しくない
- ios でフォルダー名更新にフォーカスしたとき、画面がずれる。
- フォルダー名更新モードを同時にいくつもしていると他の更新にフォーカスしたときにその名前で更新される。

# リファクタリングメモ

- test-id 属性消せるようにする
- 再レンダリングを抑制する
- 不要な通信処理が行われていないか確認
- task の取得とタスクフォルダーの取得は分ける
- リポジトリにてエラーちゃんと表示する
- タスクフォルダー削除時、タスクコレクションも削除する
- タスクフォルダーリストプロップスのプロパティ名を taskFolders にする。
- 再利用できそうな処理をカスタムフックスにする。(選択とか)
- フォルダリストページの props をコンテキストに分ける
- keyProps を削除する。
- リポジトリの関数名とカスタムフックスの関数名に規則をつける
- useAddTask のセット関数名を変更する。
- addTask か createTask で統一する。
- 非同期でできる処理は非同期で実行する。
- タスク名称が長いときにはみ出さないようにする。
- タスク追加時に画面を下にスクロールする。

# ルール

## フォーマット

- コンポーネント内の処理は種類ごとにまとめ、以下のコメントを付ける。
  - //hooks
  - //state
  - //effect
  - //function

## props

- onClick を実行するコンポーネントが受け取るのは onClickProps、それ以外は handlerProps を受け取る

## フォーム

- フォームパーツは、一つのページで共通化する(FormProvider と useFormContext を使用する)
- フォームは親コンポーネントからコンテキストを介してパーツを受け取る
- サブミットの送信はフォーム、サブミット時の処理は親から受け取る

## リポジトリ

- firebase のコレクション名には定数を切る
- リポジトリの関数には doc をつける

## CSS

- 共通の css は common/css/common-style.ts にまとめる
